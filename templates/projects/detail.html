{% extends 'base.html' %}
{% block content %}
<h2>{{ project.title }}</h2>
<p>{{ project.description }}</p>
<div class="mb-2">Deadline: {{ project.deadline }}</div>
<div class="mb-3">Progress: <div class="progress" style="width:200px; display:inline-block;"><div class="progress-bar" role="progressbar" style="width: {{ project.progress() }}%;">{{ project.progress() }}%</div></div></div>

<a class="btn btn-sm btn-primary mb-3" href="{{ url_for('tasks.create_task', project_id=project.id) }}">Add Task</a>

<h4>Tasks</h4>
{% for t in tasks %}
	<div class="card mb-2">
		<div class="card-body">
			<h5><a href="{{ url_for('tasks.task_detail', task_id=t.id) }}">{{ t.title }}</a> <small class="text-muted">({{ t.status }})</small></h5>
			<div>Due: {{ t.due_date }} | Priority: {{ t.priority }}</div>
			<div>Assignees: {% for u in t.assignees %}{{ u.username }}{% if not loop.last %}, {% endif %}{% endfor %}</div>
		</div>
	</div>
{% else %}
	<p>No tasks yet.</p>
{% endfor %}
{% endblock %}
